<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<!--字体样式-->
<link rel="stylesheet" href="iconfont/iconfont.css" type="text/css" />

<!--必要样式-->
<link rel="stylesheet" href="css/index.css" type="text/css" />
<link rel="stylesheet" href="css/animate.css" type="text/css" />

<title>jQuery给点赞按钮加一动画效果 - 烽烟工作室</title>
</head>
<body>

<div class="box">
	<h1>上月任务圆满完成</h1>
	<div class="content">
		<p>上月任务圆满完成，老板高兴的开庆功会颁发奖金。　　老板：上月打了一漂亮仗，今天给几位优秀者颁发奖金，我念到名字的上来领奖金。获得第一名3000元奖金的是………　　哎~妈呀！3000块耶，我激动的蹦起来，果断掏出我的诺基亚朝老板扔了过去……　　老板怒道：王小明！！！　　我果断走过去，从惊讶的老板手里接过奖金，挥挥手说：谢谢老板！谢谢大家…
		</p>
	</div>
</div>

<div class="opera">
	<span id="btn">
		<i class="iconfont">&#xe602;</i> 点击
	</span>
</div>

<script src="js/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
	(function ($) {
		$.extend({
			tipsBox: function (options) {
				options = $.extend({
					obj: null,  //jq对象，要在那个html标签上显示
					str: "+1",  //字符串，要显示的内容;也可以传一段html，如: "<b style='font-family:Microsoft YaHei;'>+1</b>"
					startSize: "12px",  //动画开始的文字大小
					endSize: "30px",    //动画结束的文字大小
					interval: 600,  //动画时间间隔
					color: "red",    //文字颜色
					callback: function () { }    //回调函数
				}, options);
				$("body").append("<span class='num'>" + options.str + "</span>");
				var box = $(".num");
				var left = options.obj.offset().left + options.obj.width() / 2;
				var top = options.obj.offset().top - options.obj.height();
				box.css({
					"position": "absolute",
					"left": left + "px",
					"top": top + "px",
					"z-index": 9999,
					"font-size": options.startSize,
					"line-height": options.endSize,
					"color": options.color
				});
				box.animate({
					"font-size": options.endSize,
					"opacity": "0",
					"top": top - parseInt(options.endSize) + "px"
				}, options.interval, function () {
					box.remove();
					options.callback();
				});
			}
		});
	})(jQuery);
	  
	function niceIn(prop){
		prop.find('i').addClass('niceIn');
		setTimeout(function(){
			prop.find('i').removeClass('niceIn');	
		},1000);		
	}
	$(function () {
		$("#btn").click(function () {
			$.tipsBox({
				obj: $(this),
				str: "+1",
				callback: function () {
				}
			});
			niceIn($(this));
		});
	});
</script>
</body>
</html>
